<!DOCTYPE html>
<html lang="auto">
<head>
 <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="title">Word Counter | 字数统计器 - 支持多格式文件上传</title>
    <meta name="description" content="Free online word counter tool supporting multiple file formats including TXT, DOCX, PDF. Get instant statistics on characters, words, sentences, paragraphs, and estimated reading time. Ideal for writers, editors, students, and content creators." />
    <meta name="keywords" content="word counter, text tools, word count, character count, sentence count, paragraph count, reading time, text statistics, TXT, DOCX, PDF" />
    <meta name="author" content="Calculator2U" />
    <link rel="canonical" href="https://www.calculator2u.com/pages/education/word-counter.html" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- 中文 Meta Tags -->
    <meta name="description" lang="zh" content="免费在线字数统计工具，支持文本、TXT、DOCX、PDF文件上传，提供多语言支持，实时统计字符、词、句子和段落数量。适用于作家、编辑、学生和内容创作者。" />
    <meta name="keywords" lang="zh" content="字数统计器, 文本工具, 词数统计, 字符数统计, 句子统计, 段落统计, 阅读时间, 文本统计, TXT, DOCX, PDF" />
    <!-- Open Graph 标签 -->
    <meta property="og:title" content="字数统计器 | Word Counter - 支持多格式文件上传" />
    <meta property="og:description" content="免费在线字数统计工具，支持文本、TXT、DOCX、PDF文件上传，提供多语言支持，实时统计字符、词、句子和段落数量。适用于作家、编辑、学生和内容创作者。" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.calculator2u.com/assets/images/word-counter.jpg" />
    <meta property="og:locale" content="zh_CN" />
    <meta property="og:site_name" content="Calculator2U" />
    <!-- 添加更多语言版本链接 -->
    <link rel="alternate" hreflang="en" href="https://Calculator2U/en/word-counter" />
    <link rel="alternate" hreflang="zh" href="https://Calculator2U/zh/word-counter" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RLH4FLZBZF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RLH4FLZBZF');
</script>
  <style>
    :root {
      --primary-color: #006d77;
      --secondary-color: #83c5be;
      --accent-color: #ffb4a2;
      --text-color: #333;
      --bg-color: #f8f9fa;
      --card-bg: #ffffff;
      --border-color: #e0e0e0;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --transition: all 0.3s ease;
    }

    .dark-mode {
      --primary-color: #83c5be;
      --secondary-color: #006d77;
      --text-color: #f0f0f0;
      --bg-color: #1a1a2e;
      --card-bg: #16213e;
      --border-color: #2d4059;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      transition: var(--transition);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }

    /* 导航栏样式 */
    .navbar {
      background: var(--primary-color);
      padding: 1rem 2rem;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .navbar .logo {
      font-weight: bold;
      font-size: 1.5rem;
      text-decoration: none;
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo i {
      font-size: 1.8rem;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      gap: 1.2rem;
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      transition: var(--transition);
      padding: 5px 10px;
      border-radius: 4px;
    }

    .nav-links a:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .nav-actions {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .btn {
      padding: 0.5rem 1rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background-color: var(--accent-color);
      color: #333;
    }

    .btn-primary:hover {
      background-color: #ff9c7c;
    }

    .btn-outline {
      background: transparent;
      border: 1px solid white;
      color: white;
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    /* 主内容区 */
    .main-content {
      padding: 2rem 0;
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    @media (min-width: 992px) {
      .main-content {
        grid-template-columns: 1fr 350px;
      }
    }

    /* 卡片样式 */
    .card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: var(--shadow);
      padding: 1.5rem;
      transition: var(--transition);
    }

    .card-title {
      font-size: 1.4rem;
      margin-bottom: 1.5rem;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 10px;
      padding-bottom: 0.8rem;
      border-bottom: 2px solid var(--border-color);
    }

    /* 文本区域 */
    .text-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    textarea {
      width: 100%;
      min-height: 300px;
      padding: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-family: inherit;
      font-size: 1rem;
      resize: vertical;
      background: var(--card-bg);
      color: var(--text-color);
      transition: var(--transition);
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(0, 109, 119, 0.1);
    }

    .text-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      margin-top: 0.5rem;
    }

    /* 文件上传区域 */
    .file-upload {
      border: 2px dashed var(--border-color);
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      margin-bottom: 1.5rem;
      background: var(--card-bg);
    }

    .file-upload:hover {
      border-color: var(--primary-color);
      background: rgba(0, 109, 119, 0.03);
    }

    .file-upload i {
      font-size: 3rem;
      color: var(--primary-color);
      margin-bottom: 1rem;
    }

    .file-upload p {
      margin-bottom: 1rem;
    }

    .file-types {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 1rem;
    }

    .file-type {
      background: var(--secondary-color);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-size: 0.85rem;
    }

    /* 统计结果 */
    .stats-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1.2rem;
    }

    .stat-card {
      background: rgba(131, 197, 190, 0.15);
      border-radius: 10px;
      padding: 1.2rem;
      text-align: center;
      transition: var(--transition);
      border: 1px solid var(--border-color);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    }

    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary-color);
      margin: 0.5rem 0;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-color);
      opacity: 0.8;
    }

    .reading-time {
      background: rgba(255, 180, 162, 0.2);
      padding: 1rem;
      border-radius: 10px;
      margin-top: 1.5rem;
      text-align: center;
      border-left: 4px solid var(--accent-color);
    }

    /* 功能面板 */
    .tools-panel {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .tool-card {
      padding: 1.2rem;
      border-radius: 10px;
      background: var(--card-bg);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      border: 1px solid var(--border-color);
    }

    .tool-card:hover {
      background: rgba(131, 197, 190, 0.1);
      transform: translateY(-3px);
    }

    .tool-card i {
      font-size: 2rem;
      color: var(--primary-color);
      margin-bottom: 0.8rem;
    }

    /* 页脚 */
    footer {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.9rem;
      padding: 2rem 1rem;
      background: var(--primary-color);
      color: white;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-links a:hover {
      color: white;
      text-decoration: underline;
    }

    .copyright {
      margin-top: 1rem;
      opacity: 0.7;
    }

    /* 主题切换按钮 */
    .theme-toggle {
      background: transparent;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
      }
      
      .nav-links {
        justify-content: center;
      }
      
      .tools-panel {
        grid-template-columns: 1fr;
      }
      
      .stats-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
<header>

    <nav class="navbar">
      <a href="/index.html" class="logo">
        <i class="fas fa-calculator"></i>
        <span>Calculator2U</span>
      </a>
      <ul class="nav-links">
        <li><a href="/pages/health/index.html" data-i18n="nav_health">健康与身体</a></li>
        <li><a href="/pages/finance/index.html" data-i18n="nav_finance">财务与投资</a></li>
        <li><a href="/pages/education/index.html" data-i18n="nav_education">教育与学习</a></li>
        <li><a href="/pages/engineering/index.html" data-i18n="nav_engineering">工程与科学</a></li>
        <li><a href="/pages/daily-life/index.html" data-i18n="nav_daily_life">日常生活</a></li>
        <li><a href="/about.html" data-i18n="nav_about_us">关于我们</a></li>
      </ul>
      <div class="nav-actions">
        <button class="theme-toggle" id="theme-toggle" title="切换夜间模式">
          <i class="fas fa-moon"></i>
        </button>
        <button class="btn btn-outline" id="lang-switch">EN</button>
      </div>
    </nav>
</header>

<div class="container">
  <main class="main-content">
    <div class="text-section">
      <div class="card">
        <h2 class="card-title">
          <i class="fas fa-text-width"></i>
          <span data-i18n="text_input">文本输入</span>
        </h2>
        <div class="text-container">
          <textarea id="text" placeholder="Type or paste your text..." autofocus></textarea>
          <div class="text-controls">
            <button class="btn btn-primary" id="clear-btn">
              <i class="fas fa-trash-alt"></i>
              <span data-i18n="clear_text">清空文本</span>
            </button>
            <button class="btn btn-primary" id="copy-btn">
              <i class="fas fa-copy"></i>
              <span data-i18n="copy_text">复制文本</span>
            </button>
          </div>
        </div>
      </div>
      
      <div class="card">
        <h2 class="card-title">
          <i class="fas fa-file-upload"></i>
          <span data-i18n="file_upload">文件上传</span>
        </h2>
        <div class="file-upload" id="file-drop-area">
          <i class="fas fa-cloud-upload-alt"></i>
          <p data-i18n="upload_prompt">拖放文件到此处或点击上传</p>
          <button class="btn btn-primary" id="file-btn">
            <i class="fas fa-folder-open"></i>
            <span data-i18n="select_file">选择文件</span>
          </button>
          <input type="file" id="file-input" accept=".txt,.docx,.pdf" hidden>
          <div class="file-types">
            <span class="file-type">TXT</span>
            <span class="file-type">DOCX</span>
            <span class="file-type">PDF</span>
          </div>
        </div>
        <div id="file-info" class="file-info" style="display: none; margin-top: 1rem; padding: 1rem; background: rgba(131, 197, 190, 0.1); border-radius: 8px;">
          <p><i class="fas fa-file"></i> <span id="file-name"></span></p>
          <p><i class="fas fa-check-circle" style="color: #4CAF50;"></i> <span data-i18n="file_uploaded">文件已成功上传</span></p>
        </div>
      </div>
    </div>


    
    <div class="stats-section">
      <div class="card">
        <h2 class="card-title">
          <i class="fas fa-chart-bar"></i>
          <span data-i18n="statistics">统计结果</span>
        </h2>
        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-value" id="char-count">0</div>
            <div class="stat-label" data-i18n="characters">字符数</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="word-count">0</div>
            <div class="stat-label" data-i18n="words">词数</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="line-count">0</div>
            <div class="stat-label" data-i18n="lines">行数</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="sentence-count">0</div>
            <div class="stat-label" data-i18n="sentences">句子数</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="paragraph-count">0</div>
            <div class="stat-label" data-i18n="paragraphs">段落数</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="space-count">0</div>
            <div class="stat-label" data-i18n="spaces">空格数</div>
          </div>
        </div>
        
        <div class="reading-time">
          <h3 data-i18n="reading_time">阅读时间估算</h3>
          <div class="stat-value" id="reading-time">0 分钟</div>
          <p data-i18n="reading_note">基于每分钟阅读200个英文单词或300个中文字符</p>
        </div>
      </div>
      
      <div class="card">
        <h2 class="card-title">
          <i class="fas fa-tools"></i>
          <span data-i18n="text_tools">文本工具</span>
        </h2>
        <div class="tools-panel">
          <div class="tool-card" id="remove-spaces">
            <i class="fas fa-space-shuttle"></i>
            <div data-i18n="remove_spaces">删除空格</div>
          </div>
          <div class="tool-card" id="remove-linebreaks">
            <i class="fas fa-align-left"></i>
            <div data-i18n="remove_linebreaks">删除换行</div>
          </div>
          <div class="tool-card" id="to-uppercase">
            <i class="fas fa-text-height"></i>
            <div data-i18n="to_uppercase">转为大写</div>
          </div>
          <div class="tool-card" id="to-lowercase">
            <i class="fas fa-text-height"></i>
            <div data-i18n="to_lowercase">转为小写</div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

  <footer>

    <p>&copy; 2025 Calculator2U. <span data-i18n="footer_rights">保留所有权利。</span> | <a href="/privacy.html" data-i18n="footer_privacy_policy">隐私政策</a> | <a href="/terms.html" data-i18n="footer_terms_of_service">使用条款</a></p>
  </footer>

<script>
  // 多语言支持
  const translations = {
    zh: {
      title: "字数统计器",
      nav_health: "健康与身体",
      nav_finance: "财务与投资",
      nav_education: "教育与学习",
      nav_engineering: "工程与科学",
      nav_daily_life: "日常生活",
      nav_about_us: "关于我们",
      footer_privacy_policy: "隐私政策",
      footer_terms_of_service: "使用条款",
      text_input: "文本输入",
      clear_text: "清空文本",
      copy_text: "复制文本",
      file_upload: "文件上传",
      upload_prompt: "拖放文件到此处或点击上传",
      select_file: "选择文件",
      file_uploaded: "文件已成功上传",
      statistics: "统计结果",
      characters: "字符数",
      words: "词数",
      lines: "行数",
      sentences: "句子数",
      paragraphs: "段落数",
      spaces: "空格数",
      reading_time: "阅读时间估算",
      reading_note: "基于每分钟阅读200个英文单词或300个中文字符",
      text_tools: "文本工具",
      remove_spaces: "删除空格",
      remove_linebreaks: "删除换行",
      to_uppercase: "转为大写",
      to_lowercase: "转为小写",
      home: "首页",
      about_us: "关于我们",
      contact: "联系我们",
      all_rights_reserved: "保留所有权利"
    },
    en: {
      title: "Word Counter",
      nav_health: "Health & Body",
      nav_finance: "Finance & Investment",
      nav_education: "Education & Learning",
      nav_engineering: "Engineering & Science",
      nav_daily_life: "Daily Life",
      nav_about_us: "About Us",
      footer_privacy_policy: "Privacy Policy",
      footer_terms_of_service: "Terms of Service",
      text_input: "Text Input",
      clear_text: "Clear Text",
      copy_text: "Copy Text",
      file_upload: "File Upload",
      upload_prompt: "Drag & drop files here or click to upload",
      select_file: "Select File",
      file_uploaded: "File successfully uploaded",
      statistics: "Statistics",
      characters: "Characters",
      words: "Words",
      lines: "Lines",
      sentences: "Sentences",
      paragraphs: "Paragraphs",
      spaces: "Spaces",
      reading_time: "Estimated Reading Time",
      reading_note: "Based on 200 words per minute for English or 300 characters for Chinese",
      text_tools: "Text Tools",
      remove_spaces: "Remove Spaces",
      remove_linebreaks: "Remove Line Breaks",
      to_uppercase: "To Uppercase",
      to_lowercase: "To Lowercase",
      home: "Home",
      about_us: "About Us",
      contact: "Contact",
      all_rights_reserved: "All rights reserved"
    }
  };

  // DOM元素
  const textArea = document.getElementById("text");
  const charCountEl = document.getElementById("char-count");
  const wordCountEl = document.getElementById("word-count");
  const lineCountEl = document.getElementById("line-count");
  const sentenceCountEl = document.getElementById("sentence-count");
  const paragraphCountEl = document.getElementById("paragraph-count");
  const spaceCountEl = document.getElementById("space-count");
  const readingTimeEl = document.getElementById("reading-time");
  const clearBtn = document.getElementById("clear-btn");
  const copyBtn = document.getElementById("copy-btn");
  const fileInput = document.getElementById("file-input");
  const fileBtn = document.getElementById("file-btn");
  const fileDropArea = document.getElementById("file-drop-area");
  const fileInfo = document.getElementById("file-info");
  const fileName = document.getElementById("file-name");
  const langSwitch = document.getElementById("lang-switch");
  const themeToggle = document.getElementById("theme-toggle");
  
  // 工具按钮
  const removeSpacesBtn = document.getElementById("remove-spaces");
  const removeLinebreaksBtn = document.getElementById("remove-linebreaks");
  const toUppercaseBtn = document.getElementById("to-uppercase");
  const toLowercaseBtn = document.getElementById("to-lowercase");
  
  // 初始化语言
  let lang = localStorage.getItem("site-lang") || (navigator.language.startsWith("zh") ? "zh" : "en");
  
  // 初始化主题
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme === "dark") {
    document.body.classList.add("dark-mode");
    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
  }

  // 设置语言
  function setLang(code) {
    document.documentElement.lang = code;
    localStorage.setItem("site-lang", code);
    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.getAttribute("data-i18n");
      if (translations[code][key]) {
        el.textContent = translations[code][key];
      }
    });
    langSwitch.textContent = code === "zh" ? "EN" : "中文";
    // 更新统计
    updateStats();
  }

  // 更新统计
  function updateStats() {
    const text = textArea.value;
    
    // 基础统计
    const chars = text.length;
    const words = text.trim() ? text.trim().split(/\s+/).length : 0;
    const lines = text ? text.split('\n').length : 0;
    const spaces = (text.match(/\s/g) || []).length;
    
    // 句子统计（简单实现）
    const sentences = text.trim() ? text.split(/[.!?。！？]+/).filter(s => s.trim().length > 0).length : 0;
    
    // 段落统计
    const paragraphs = text.trim() ? text.split(/\n\s*\n/).filter(p => p.trim().length > 0).length : 0;
    
    // 阅读时间估算
    const isChinese = lang === "zh" || /[\u4e00-\u9fa5]/.test(text);
    const readingSpeed = isChinese ? 300 : 200; // 中英文阅读速度不同
    const readingTime = Math.ceil(words / readingSpeed) || 1;
    
    // 更新UI
    charCountEl.textContent = chars.toLocaleString();
    wordCountEl.textContent = words.toLocaleString();
    lineCountEl.textContent = lines.toLocaleString();
    sentenceCountEl.textContent = sentences.toLocaleString();
    paragraphCountEl.textContent = paragraphs.toLocaleString();
    spaceCountEl.textContent = spaces.toLocaleString();
    
    if (lang === "zh") {
      readingTimeEl.textContent = `约 ${readingTime} 分钟`;
    } else {
      readingTimeEl.textContent = `${readingTime} min`;
    }
  }

  // 文件处理
  function handleFile(file) {
    if (!file) return;
    
    const validTypes = ["text/plain", "application/pdf", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"];
    if (!validTypes.includes(file.type)) {
      alert(lang === "zh" ? "不支持的文件类型" : "Unsupported file type");
      return;
    }
    
    fileName.textContent = file.name;
    fileInfo.style.display = "block";
    
    const reader = new FileReader();
    
    reader.onload = function(e) {
      // 简单处理 - 实际应用中需要处理PDF和DOCX
      textArea.value = e.target.result;
      updateStats();
    };
    
    reader.onerror = function() {
      alert(lang === "zh" ? "读取文件时出错" : "Error reading file");
    };
    
    if (file.type === "text/plain") {
      reader.readAsText(file);
    } else {
      // 在实际应用中，这里需要处理PDF和DOCX文件
      // 为演示目的，我们仅显示一个消息
      alert(lang === "zh" 
        ? "PDF和DOCX处理功能需要后端支持" 
        : "PDF and DOCX processing requires backend support");
    }
  }

  // 事件监听
  textArea.addEventListener("input", updateStats);
  
  clearBtn.addEventListener("click", () => {
    textArea.value = "";
    updateStats();
    fileInfo.style.display = "none";
  });
  
  copyBtn.addEventListener("click", () => {
    textArea.select();
    document.execCommand("copy");
    const alertMsg = lang === "zh" ? "文本已复制到剪贴板" : "Text copied to clipboard";
    alert(alertMsg);
  });
  
  fileBtn.addEventListener("click", () => {
    fileInput.click();
  });
  
  fileInput.addEventListener("change", (e) => {
    if (fileInput.files.length > 0) {
      handleFile(fileInput.files[0]);
    }
  });
  
  fileDropArea.addEventListener("dragover", (e) => {
    e.preventDefault();
    fileDropArea.style.borderColor = "#006d77";
    fileDropArea.style.backgroundColor = "rgba(0, 109, 119, 0.05)";
  });
  
  fileDropArea.addEventListener("dragleave", () => {
    fileDropArea.style.borderColor = "";
    fileDropArea.style.backgroundColor = "";
  });
  
  fileDropArea.addEventListener("drop", (e) => {
    e.preventDefault();
    fileDropArea.style.borderColor = "";
    fileDropArea.style.backgroundColor = "";
    
    if (e.dataTransfer.files.length > 0) {
      handleFile(e.dataTransfer.files[0]);
    }
  });
  
  // 粘贴时去除格式
  textArea.addEventListener("paste", (e) => {
    e.preventDefault();
    const text = (e.clipboardData || window.clipboardData).getData("text/plain");
    document.execCommand("insertText", false, text);
  });
  
  // 语言切换
  langSwitch.addEventListener("click", () => {
    lang = lang === "zh" ? "en" : "zh";
    setLang(lang);
  });
  
  // 主题切换
  themeToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    
    if (document.body.classList.contains("dark-mode")) {
      localStorage.setItem("theme", "dark");
      themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
    } else {
      localStorage.setItem("theme", "light");
      themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
    }
  });
  
  // 文本工具功能
  removeSpacesBtn.addEventListener("click", () => {
    textArea.value = textArea.value.replace(/\s+/g, " ").trim();
    updateStats();
  });
  
  removeLinebreaksBtn.addEventListener("click", () => {
    textArea.value = textArea.value.replace(/\n+/g, " ").replace(/\s+/g, " ").trim();
    updateStats();
  });
  
  toUppercaseBtn.addEventListener("click", () => {
    textArea.value = textArea.value.toUpperCase();
    updateStats();
  });
  
  toLowercaseBtn.addEventListener("click", () => {
    textArea.value = textArea.value.toLowerCase();
    updateStats();
  });

  // 初始化
  setLang(lang);
  updateStats();
</script>
</body>
</html>