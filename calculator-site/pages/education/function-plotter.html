<!DOCTYPE html>
<html lang="auto">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Language" content="auto" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">ÂáΩÊï∞ÁªòÂõæÂô® | Function Plotter</title>
<meta name="description" content="‰ΩøÁî®ÂáΩÊï∞ÁªòÂõæÂô®ÂèØËßÜÂåñÂáΩÊï∞ÂõæÂÉèÔºåÊîØÊåÅÂ§öÁßçÂáΩÊï∞Á±ªÂûãÔºåÈÄÇÁî®‰∫éÊï∞Â≠¶Â≠¶‰π†‰∏éÊºîÁ§∫ÔºåËΩªÊùæÁªòÂà∂Á≤æÁæéÂõæÂΩ¢ÔºåÊèêÂçáÂ≠¶‰π†ÊïàÁéá„ÄÇ" />
<meta name="keywords" content="ÂáΩÊï∞ÁªòÂõæÂô®, Êï∞Â≠¶ÂáΩÊï∞, ÂèØËßÜÂåñ, Êï∞Â≠¶Â∑•ÂÖ∑, ÂáΩÊï∞ÂõæÂÉè, Êï∞Â≠¶ÁªòÂõæ, Âú®Á∫øÂáΩÊï∞ÁªòÂõæÂô®, ‰∫§‰∫íÂºèÂáΩÊï∞ÂõæÂÉè, Êï∞Â≠¶ÊïôÂ≠¶Â∑•ÂÖ∑, ÂáΩÊï∞ÂõæÂÉèÁîüÊàêÂô®" />
<meta name="description" lang="en" content="Visualize function graphs with our online function plotter, supporting various function types for math learning and demonstrations. Create beautiful graphs effortlessly to enhance your learning experience." />
<meta name="keywords" lang="en" content="Function Plotter, Math Function, Visualization, Math Tool, Graphing Calculator, Mathematical Graphing, Online Function Grapher, Interactive Function Graph, Math Teaching Tool, Function Graph Generator" />
  <meta name="author" content="Calculator2U" />
  <link rel="canonical" href="https://www.calculator2u.com/pages/education/function-plotter.html" />
<script src="https://cmp.gatekeeperconsent.com/min.js" data-cfasync="false"></script>
<script src="https://the.gatekeeperconsent.com/cmp.min.js" data-cfasync="false"></script>

<script async src="//www.ezojs.com/ezoic/sa.min.js"></script>
<script>
    window.ezstandalone = window.ezstandalone || {};
    ezstandalone.cmd = ezstandalone.cmd || [];
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RLH4FLZBZF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RLH4FLZBZF');
</script>
  <style>
    :root {
      --primary-color: #006d77;
      --secondary-color: #1e88e5;
      --bg-color: #f9f9f9;
      --text-color: #333;
      --canvas-bg: #ffffff;
      --border-color: #ccc;
      --footer-bg: #f1f1f1;
      --footer-text: #555;
      --legend-bg: rgba(255, 255, 255, 0.9);
      --grid-color: rgba(0, 0, 0, 0.1);
    }
    
    .dark-mode {
      --primary-color: #005f68;
      --secondary-color: #4a9fe3;
      --bg-color: #1e1e1e;
      --text-color: #e0e0e0;
      --canvas-bg: #2d2d2d;
      --border-color: #444;
      --footer-bg: #252525;
      --footer-text: #aaa;
      --legend-bg: rgba(30, 30, 30, 0.9);
      --grid-color: rgba(255, 255, 255, 0.1);
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }
    
    .navbar {
      background-color: var(--primary-color);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      transition: background-color 0.3s;
    }
    
    .navbar .logo {
      color: #fff;
      font-size: 1.5rem;
      text-decoration: none;
      font-weight: bold;
    }
    
    .nav-links {
      list-style: none;
      display: flex;
      gap: 1.5rem;
      padding: 0;
      margin: 0;
      align-items: center;
      flex-wrap: wrap;
    }
    
    .nav-links a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
    }
    
    .nav-links a:hover,
    .nav-links a.active {
      text-decoration: underline;
    }
    
    .nav-buttons {
      display: flex;
      gap: 0.8rem;
      align-items: center;
    }
    
    .lang-switch,
    .theme-switch {
      background: transparent;
      border: 1.5px solid #fff;
      color: #fff;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      transition: background-color 0.3s, color 0.3s;
    }
    
    .lang-switch:hover,
    .theme-switch:hover {
      background-color: #fff;
      color: var(--primary-color);
    }
    
    .container {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    
    h1 {
      font-size: 2rem;
      text-align: center;
      color: var(--secondary-color);
      margin-bottom: 1.5rem;
    }
    
    .plot-container {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
    }
    
    .input-section {
      flex: 1;
      min-width: 300px;
    }
    
    .canvas-section {
      flex: 2;
      min-width: 300px;
    }
    
    .function-inputs {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .input-group {
      display: flex;
      flex-direction: column;
      background: var(--legend-bg);
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .input-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .color-indicator {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      flex-shrink: 0;
    }
    
    .input-group label {
      margin-bottom: 0.5rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .input-group input {
      padding: 0.8rem;
      font-size: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--bg-color);
      color: var(--text-color);
      flex-grow: 1;
    }
    
    .input-group input:focus {
      outline: 2px solid var(--secondary-color);
    }
    
    .legend {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1rem;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: var(--legend-bg);
      border-radius: 4px;
      cursor: pointer;
      user-select: none;
    }
    
    .legend-item.disabled {
      opacity: 0.5;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 3px;
    }
    
    canvas {
      width: 100%;
      height: 500px;
      border: 1px solid var(--border-color);
      background: var(--canvas-bg);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }
    
    .points-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    .points-box {
      flex: 1;
      min-width: 200px;
      background: var(--legend-bg);
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .points-box h3 {
      margin-top: 0;
      color: var(--secondary-color);
    }
    
    .points-list {
      max-height: 200px;
      overflow-y: auto;
      padding-right: 0.5rem;
    }
    
    .point-item {
      padding: 0.5rem 0;
      border-bottom: 1px dashed var(--border-color);
    }
    
    .point-item:last-child {
      border-bottom: none;
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 0.5rem;
    }
    
    footer {
      text-align: center;
      padding: 2rem 1rem;
      background: var(--footer-bg);
      color: var(--footer-text);
      font-size: 0.9rem;
      margin-top: 3rem;
      transition: background-color 0.3s, color 0.3s;
    }
    
    footer a {
      color: var(--secondary-color);
      text-decoration: none;
    }
    
    footer a:hover {
      text-decoration: underline;
    }
    
    @media (max-width: 768px) {
      .plot-container {
        flex-direction: column;
      }
      
      .navbar {
        flex-direction: column;
        gap: 1rem;
      }
      
      .nav-links {
        justify-content: center;
      }
    }
    
    @media (max-width: 480px) {
      .function-inputs {
        gap: 1rem;
      }
      
      .input-group {
        padding: 0.8rem;
      }
      
      .nav-links {
        flex-direction: column;
        gap: 0.8rem;
      }
      
      .nav-buttons {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <a href="/index.html" class="logo">Calculator2U</a>
      <ul class="nav-links">
        <li><a href="/pages/health/index.html" data-i18n="nav_health">ÂÅ•Â∫∑‰∏éË∫´‰Ωì</a></li>
        <li><a href="/pages/finance/index.html" data-i18n="nav_finance">Ë¥¢Âä°‰∏éÊäïËµÑ</a></li>
        <li><a href="/pages/education/index.html" data-i18n="nav_education">ÊïôËÇ≤‰∏éÂ≠¶‰π†</a></li>
        <li><a href="/pages/engineering/index.html" data-i18n="nav_engineering">Â∑•Á®ã‰∏éÁßëÂ≠¶</a></li>
        <li><a href="/pages/daily-life/index.html" data-i18n="nav_daily_life">Êó•Â∏∏ÁîüÊ¥ª</a></li>
        <li><a href="/about.html" data-i18n="nav_about_us">ÂÖ≥‰∫éÊàë‰ª¨</a></li>
        <div class="nav-buttons">
          <button class="theme-switch" id="theme-switch" title="ÂàáÊç¢Â§úÈó¥Ê®°Âºè">
            <span id="theme-icon">üåô</span>
          </button>
          <button class="lang-switch" id="lang-switch">EN</button>
        </div>
      </ul>
    </nav>
  </header>

  <main class="container">
    <h1 data-i18n="title">ÂáΩÊï∞ÁªòÂõæÂô®</h1>
    
    <div class="plot-container">
      <div class="input-section">
        <div class="function-inputs">
          <!-- Function 1 -->
          <div class="input-group">
            <label>
              <span class="color-indicator" style="background-color: #ff5252;"></span>
              <span data-i18n="label_function1">ÂáΩÊï∞ 1 (Á∫¢Ëâ≤):</span>
            </label>
            <div class="input-row">
              <input type="text" id="function-input1" value="sin(x)" class="function-input" />
            </div>
          </div>
          
          <!-- Function 2 -->
          <div class="input-group">
            <label>
              <span class="color-indicator" style="background-color: #4caf50;"></span>
              <span data-i18n="label_function2">ÂáΩÊï∞ 2 (ÁªøËâ≤):</span>
            </label>
            <div class="input-row">
              <input type="text" id="function-input2" value="x*0.5" class="function-input" />
            </div>
          </div>
          
          <!-- Function 3 -->
          <div class="input-group">
            <label>
              <span class="color-indicator" style="background-color: #2196f3;"></span>
              <span data-i18n="label_function3">ÂáΩÊï∞ 3 (ËìùËâ≤):</span>
            </label>
            <div class="input-row">
              <input type="text" id="function-input3" value="cos(x)" class="function-input" />
            </div>
          </div>
        </div>
        
        <div class="input-group">
          <label data-i18n="label_range">ÂÆö‰πâÂüüËåÉÂõ¥ (x):</label>
          <div class="input-row">
            <input type="number" id="range-min" value="-10" step="0.5" />
            <span>Âà∞</span>
            <input type="number" id="range-max" value="10" step="0.5" />
          </div>
        </div>
        
        <div class="legend">
          <div class="legend-item" id="legend1">
            <div class="legend-color" style="background-color: #ff5252;"></div>
            <span id="legend-text1">sin(x)</span>
          </div>
          <div class="legend-item" id="legend2">
            <div class="legend-color" style="background-color: #4caf50;"></div>
            <span id="legend-text2">x*0.5</span>
          </div>
          <div class="legend-item" id="legend3">
            <div class="legend-color" style="background-color: #2196f3;"></div>
            <span id="legend-text3">cos(x)</span>
          </div>
        </div>
      </div>
      
      <div class="canvas-section">
        <canvas id="plot-canvas"></canvas>
      </div>
    </div>
    
    <div class="points-container">
      <div class="points-box">
        <h3 data-i18n="roots_title">Èõ∂ÁÇπ (Roots)</h3>
        <div class="points-list" id="roots-list">
          <div class="point-item">f1: x = 0, ¬±œÄ, ¬±2œÄ, ...</div>
          <div class="point-item">f2: x = 0</div>
          <div class="point-item">f3: x = ¬±œÄ/2, ¬±3œÄ/2, ...</div>
        </div>
      </div>
      
      <div class="points-box">
        <h3 data-i18n="extrema_title">ÊûÅÂÄºÁÇπ (Max/Min)</h3>
        <div class="points-list" id="extrema-list">
          <div class="point-item">f1: ÊúÄÂ§ßÂÄº (œÄ/2 + 2kœÄ), ÊúÄÂ∞èÂÄº (3œÄ/2 + 2kœÄ)</div>
          <div class="point-item">f2: Êó†ÊûÅÂÄº</div>
          <div class="point-item">f3: ÊúÄÂ§ßÂÄº (2kœÄ), ÊúÄÂ∞èÂÄº (œÄ + 2kœÄ)</div>
        </div>
      </div>
      
      <div class="points-box">
        <h3 data-i18n="intersections_title">‰∫§ÁÇπ (Intersections)</h3>
        <div class="points-list" id="intersections-list">
          <div class="point-item">f1 & f2: (0,0), (2.0288,1.0144), ...</div>
          <div class="point-item">f1 & f3: (œÄ/4, ‚àö2/2), (5œÄ/4, -‚àö2/2), ...</div>
          <div class="point-item">f2 & f3: (0.4502,0.2251), (3.5909,1.7954), ...</div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Calculator2U. <span data-i18n="footer_rights">‰øùÁïôÊâÄÊúâÊùÉÂà©„ÄÇ</span> | <a href="/privacy.html" data-i18n="footer_privacy_policy">ÈöêÁßÅÊîøÁ≠ñ</a> | <a href="/terms.html" data-i18n="footer_terms_of_service">‰ΩøÁî®Êù°Ê¨æ</a></p>
  </footer>

  <script>
    (function () {
      // Â§öËØ≠Ë®ÄÊîØÊåÅ
      const translations = {
        zh: {
          title: "ÂáΩÊï∞ÁªòÂõæÂô®",
          nav_health: "ÂÅ•Â∫∑‰∏éË∫´‰Ωì",
          nav_finance: "Ë¥¢Âä°‰∏éÊäïËµÑ",
          nav_education: "ÊïôËÇ≤‰∏éÂ≠¶‰π†",
          nav_engineering: "Â∑•Á®ã‰∏éÁßëÂ≠¶",
          nav_daily_life: "Êó•Â∏∏ÁîüÊ¥ª",
          nav_about_us: "ÂÖ≥‰∫éÊàë‰ª¨",
          label_function1: "ÂáΩÊï∞ 1 (Á∫¢Ëâ≤):",
          label_function2: "ÂáΩÊï∞ 2 (ÁªøËâ≤):",
          label_function3: "ÂáΩÊï∞ 3 (ËìùËâ≤):",
          label_range: "ÂÆö‰πâÂüüËåÉÂõ¥ (x):",
          roots_title: "Èõ∂ÁÇπ (Roots)",
          extrema_title: "ÊûÅÂÄºÁÇπ (Max/Min)",
          intersections_title: "‰∫§ÁÇπ (Intersections)",
          footer_privacy_policy: "ÈöêÁßÅÊîøÁ≠ñ",
          footer_terms_of_service: "‰ΩøÁî®Êù°Ê¨æ",
          footer_contact: "ËÅîÁ≥ªÊàë‰ª¨"
        },
        en: {
          title: "Function Plotter",
          nav_health: "Health & Body",
          nav_finance: "Finance & Investment",
          nav_education: "Education & Learning",
          nav_engineering: "Engineering & Science",
          nav_daily_life: "Daily Life",
          nav_about_us: "About Us",
          label_function1: "Function 1 (Red):",
          label_function2: "Function 2 (Green):",
          label_function3: "Function 3 (Blue):",
          label_range: "Domain Range (x):",
          roots_title: "Roots",
          extrema_title: "Max/Min Points",
          intersections_title: "Intersections",
          footer_privacy_policy: "Privacy Policy",
          footer_terms_of_service: "Terms of Service",
          footer_contact: "Contact Us"
        }
      };

      // ÂàùÂßãÂåñËØ≠Ë®Ä
      let lang = localStorage.getItem('site-lang') || (navigator.language.startsWith('zh') ? 'zh' : 'en');
      
      // ËÆæÁΩÆËØ≠Ë®Ä
      function setLang(l) {
        document.documentElement.lang = l;
        localStorage.setItem('site-lang', l);
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (translations[l][key]) {
            el.textContent = translations[l][key];
          }
        });
        document.getElementById('lang-switch').textContent = l === 'zh' ? 'EN' : '‰∏≠Êñá';
      }

      setLang(lang);

      // ËØ≠Ë®ÄÂàáÊç¢
      document.getElementById('lang-switch').addEventListener('click', () => {
        lang = lang === 'zh' ? 'en' : 'zh';
        setLang(lang);
      });

      // Â§úÈó¥Ê®°ÂºèÂàáÊç¢
      const themeSwitch = document.getElementById('theme-switch');
      const themeIcon = document.getElementById('theme-icon');
      const isDarkMode = localStorage.getItem('dark-mode') === 'true';
      
      function setTheme(isDark) {
        if (isDark) {
          document.body.classList.add('dark-mode');
          themeIcon.textContent = '‚òÄÔ∏è';
          localStorage.setItem('dark-mode', 'true');
        } else {
          document.body.classList.remove('dark-mode');
          themeIcon.textContent = 'üåô';
          localStorage.setItem('dark-mode', 'false');
        }
      }
      
      setTheme(isDarkMode);
      
      themeSwitch.addEventListener('click', () => {
        setTheme(!document.body.classList.contains('dark-mode'));
      });

      // ÁªòÂõæÂäüËÉΩ
      const canvas = document.getElementById("plot-canvas");
      const ctx = canvas.getContext("2d");
      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;
      
      // ÂáΩÊï∞È¢úËâ≤
      const functionColors = [
        { id: 1, color: "#ff5252", visible: true },
        { id: 2, color: "#4caf50", visible: true },
        { id: 3, color: "#2196f3", visible: true }
      ];
      
      // ÂáΩÊï∞Ë°®ËææÂºè
      const functions = [
        { id: 1, expr: "sin(x)", element: document.getElementById("function-input1") },
        { id: 2, expr: "x*0.5", element: document.getElementById("function-input2") },
        { id: 3, expr: "cos(x)", element: document.getElementById("function-input3") }
      ];
      
      // Âõæ‰æãÂàáÊç¢
      document.querySelectorAll('.legend-item').forEach((legend, index) => {
        legend.addEventListener('click', () => {
          const func = functionColors[index];
          func.visible = !func.visible;
          legend.classList.toggle('disabled', !func.visible);
          drawAllFunctions();
        });
      });
      
      // Ëá™Âä®Ë°•ÂÖ®ÂäüËÉΩ
      document.querySelectorAll('.function-input').forEach(input => {
        input.addEventListener('input', function(e) {
          const val = this.value;
          const cursorPos = this.selectionStart;
          
          // Ëá™Âä®Ë°•ÂÖ® sin() Á≠âÂáΩÊï∞
          if (val.slice(cursorPos - 3, cursorPos) === 'sin') {
            this.value = val.slice(0, cursorPos - 3) + 'sin()' + val.slice(cursorPos);
            this.setSelectionRange(cursorPos + 2, cursorPos + 2);
          }
          else if (val.slice(cursorPos - 3, cursorPos) === 'cos') {
            this.value = val.slice(0, cursorPos - 3) + 'cos()' + val.slice(cursorPos);
            this.setSelectionRange(cursorPos + 2, cursorPos + 2);
          }
          else if (val.slice(cursorPos - 3, cursorPos) === 'tan') {
            this.value = val.slice(0, cursorPos - 3) + 'tan()' + val.slice(cursorPos);
            this.setSelectionRange(cursorPos + 2, cursorPos + 2);
          }
          else if (val.slice(cursorPos - 3, cursorPos) === 'abs') {
            this.value = val.slice(0, cursorPos - 3) + 'abs()' + val.slice(cursorPos);
            this.setSelectionRange(cursorPos + 2, cursorPos + 2);
          }
          
          // Êõ¥Êñ∞ÂáΩÊï∞Ë°®ËææÂºè
          const id = parseInt(this.id.replace('function-input', ''));
          const func = functions.find(f => f.id === id);
          if (func) {
            func.expr = this.value;
            updateLegendText(id, this.value);
          }
          
          drawAllFunctions();
        });
      });
      
      // Êõ¥Êñ∞Âõæ‰æãÊñáÊú¨
      function updateLegendText(id, text) {
        document.getElementById(`legend-text${id}`).textContent = text;
      }
      
      // ËåÉÂõ¥ËæìÂÖ•ÁõëÂê¨
      document.getElementById('range-min').addEventListener('change', drawAllFunctions);
      document.getElementById('range-max').addEventListener('change', drawAllFunctions);
      
      // ÁªòÂà∂ÂùêÊ†áËΩ¥
      function drawAxes() {
        const width = canvas.width;
        const height = canvas.height;
        const minX = parseFloat(document.getElementById('range-min').value) || -10;
        const maxX = parseFloat(document.getElementById('range-max').value) || 10;
        
        const scaleX = width / (maxX - minX);
        const scaleY = height / 20;
        const offsetX = -minX * scaleX;
        const offsetY = height / 2;
        
        ctx.clearRect(0, 0, width, height);
        
        // ÁªòÂà∂ÁΩëÊ†º
        ctx.strokeStyle = var(--grid-color);
        ctx.lineWidth = 1;
        
        // ÂûÇÁõ¥Á∫ø (xËΩ¥ÁΩëÊ†º)
        for (let x = Math.ceil(minX); x <= maxX; x++) {
          if (x === 0) continue; // Ë∑≥ËøáyËΩ¥
          const px = x * scaleX + offsetX;
          ctx.beginPath();
          ctx.moveTo(px, 0);
          ctx.lineTo(px, height);
          ctx.stroke();
        }
        
        // Ê∞¥Âπ≥Á∫ø (yËΩ¥ÁΩëÊ†º)
        for (let y = -10; y <= 10; y++) {
          if (y === 0) continue; // Ë∑≥ËøáxËΩ¥
          const py = -y * scaleY + offsetY;
          ctx.beginPath();
          ctx.moveTo(0, py);
          ctx.lineTo(width, py);
          ctx.stroke();
        }
        
        // ÁªòÂà∂ÂùêÊ†áËΩ¥
        ctx.strokeStyle = var(--text-color);
        ctx.lineWidth = 2;
        
        // xËΩ¥
        ctx.beginPath();
        ctx.moveTo(0, offsetY);
        ctx.lineTo(width, offsetY);
        ctx.stroke();
        
        // yËΩ¥
        ctx.beginPath();
        ctx.moveTo(offsetX, 0);
        ctx.lineTo(offsetX, height);
        ctx.stroke();
        
        // ÁªòÂà∂ÂàªÂ∫¶
        ctx.fillStyle = var(--text-color);
        ctx.font = "12px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "top";
        
        // xËΩ¥ÂàªÂ∫¶
        for (let x = Math.ceil(minX); x <= maxX; x++) {
          if (x === 0) continue;
          const px = x * scaleX + offsetX;
          ctx.beginPath();
          ctx.moveTo(px, offsetY - 5);
          ctx.lineTo(px, offsetY + 5);
          ctx.stroke();
          ctx.fillText(x, px, offsetY + 8);
        }
        
        // yËΩ¥ÂàªÂ∫¶
        ctx.textAlign = "right";
        ctx.textBaseline = "middle";
        for (let y = -10; y <= 10; y++) {
          if (y === 0) continue;
          const py = -y * scaleY + offsetY;
          ctx.beginPath();
          ctx.moveTo(offsetX - 5, py);
          ctx.lineTo(offsetX + 5, py);
          ctx.stroke();
          ctx.fillText(y, offsetX - 8, py);
        }
        
        // ÂéüÁÇπÊ†áËÆ∞
        ctx.textAlign = "right";
        ctx.textBaseline = "top";
        ctx.fillText("0", offsetX - 8, offsetY + 8);
      }
      
      // ÁªòÂà∂Âçï‰∏™ÂáΩÊï∞
      function drawFunction(expr, color) {
        const width = canvas.width;
        const height = canvas.height;
        const minX = parseFloat(document.getElementById('range-min').value) || -10;
        const maxX = parseFloat(document.getElementById('range-max').value) || 10;
        
        const scaleX = width / (maxX - minX);
        const scaleY = height / 20;
        const offsetX = -minX * scaleX;
        const offsetY = height / 2;
        
        ctx.beginPath();
        ctx.strokeStyle = color;
        ctx.lineWidth = 3;
        
        // Â§ÑÁêÜÁâπÊÆäÂáΩÊï∞Ê†ºÂºè
        let processedExpr = expr;
        
        // Â§ÑÁêÜÂàÜÊÆµÂáΩÊï∞ËØ≠Ê≥ïÔºö{condition ? expr1 : expr2}
        if (processedExpr.includes('?')) {
          processedExpr = processConditionalFunction(processedExpr);
        }
        
        // Â§ÑÁêÜÁªùÂØπÂÄºÂáΩÊï∞Ôºö|x| ËΩ¨Êç¢‰∏∫ abs(x)
        processedExpr = processedExpr.replace(/\|([^|]+)\|/g, 'abs($1)');
        
        // Â§ÑÁêÜÈöêÂáΩÊï∞ (Á§∫‰æã)
        if (processedExpr.includes('=')) {
          processedExpr = processImplicitFunction(processedExpr);
        }
        
        let firstPoint = true;
        
        for (let x = minX; x < maxX; x += 0.01) {
          try {
            // ÊõøÊç¢Êï∞Â≠¶ÂáΩÊï∞
            let expression = processedExpr
              .replace(/sin\(/g, 'Math.sin(')
              .replace(/cos\(/g, 'Math.cos(')
              .replace(/tan\(/g, 'Math.tan(')
              .replace(/abs\(/g, 'Math.abs(')
              .replace(/sqrt\(/g, 'Math.sqrt(')
              .replace(/pow\(/g, 'Math.pow(')
              .replace(/log\(/g, 'Math.log(')
              .replace(/exp\(/g, 'Math.exp(');
            
            // ËÆ°ÁÆó y ÂÄº
            let y = eval(expression.replace(/x/g, `(${x})`));
            
            // Á°Æ‰øù y ÊòØÊúâÈôêÊï∞ÂÄº
            if (!isFinite(y)) continue;
            
            const px = x * scaleX + offsetX;
            const py = -y * scaleY + offsetY;
            
            if (firstPoint) {
              ctx.moveTo(px, py);
              firstPoint = false;
            } else {
              ctx.lineTo(px, py);
            }
          } catch (e) {
            // ÂèëÁîüÈîôËØØÊó∂ÈáçÊñ∞ÂºÄÂßãË∑ØÂæÑ
            firstPoint = true;
          }
        }
        
        ctx.stroke();
      }
      
      // Â§ÑÁêÜÊù°‰ª∂ÂáΩÊï∞ÔºàÂàÜÊÆµÂáΩÊï∞Ôºâ
      function processConditionalFunction(expr) {
        // ÁÆÄÂçïÂÆûÁé∞ÔºöÂ∞Ü {x>0 ? x : -x} ËΩ¨Êç¢‰∏∫ (x>0) ? x : -x
        return expr.replace(/\{([^}]+)\}/g, '($1)');
      }
      
      // Â§ÑÁêÜÈöêÂáΩÊï∞ÔºàÁ§∫‰æãÔºâ
      function processImplicitFunction(expr) {
        // ÁÆÄÂçïÂÆûÁé∞ÔºöÂ∞Ü x^2 + y^2 = 1 ËΩ¨Êç¢‰∏∫ y = sqrt(1 - x^2) Âíå y = -sqrt(1 - x^2)
        // ÂÆûÈôÖÂÆûÁé∞ÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑËß£Êûê
        return expr;
      }
      
      // ÁªòÂà∂ÊâÄÊúâÂáΩÊï∞
      function drawAllFunctions() {
        drawAxes();
        
        functions.forEach(func => {
          const funcColor = functionColors.find(fc => fc.id === func.id);
          if (funcColor && funcColor.visible) {
            drawFunction(func.expr, funcColor.color);
          }
        });
      }
      
      // ÂàùÂßãÂåñÁªòÂõæ
      drawAllFunctions();
      
      // Á™óÂè£Â§ßÂ∞èË∞ÉÊï¥
      window.addEventListener('resize', () => {
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        drawAllFunctions();
      });
    })();
  </script>
</body>
</html>